var ye=Object.defineProperty,Fe=Object.defineProperties;var Ne=Object.getOwnPropertyDescriptors;var $=Object.getOwnPropertySymbols;var je=Object.prototype.hasOwnProperty,ke=Object.prototype.propertyIsEnumerable;var ee=(n,e,t)=>e in n?ye(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,te=(n,e)=>{for(var t in e||(e={}))je.call(e,t)&&ee(n,t,e[t]);if($)for(var t of $(e))ke.call(e,t)&&ee(n,t,e[t]);return n},ne=(n,e)=>Fe(n,Ne(e));import{d as Le,w as T,g as ue,S as Q,i as U,s as V,e as p,a as g,b as P,c as q,t as N,f as F,h as f,j as E,n as le,H as Ce,k as de,l as W,m as se,o as X,p as ge,q as me,r as L,u as M,v as pe,x as Y,y as I,z as _e,A as Oe,B as be}from"./vendor.df09dbf1.js";const Ie=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerpolicy&&(s.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?s.credentials="include":l.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(l){if(l.ep)return;l.ep=!0;const s=t(l);fetch(l.href,s)}};Ie();const ve=T(!1),K=T({serverName:"serverName",slots:0,toggleKey:"F10"}),B=T({});function S(n){const e=ue(B)[n];return e?`<span class="mr-1">${e.icon||""}</span> ${e.label}`:""}function Ge(n){const e=ue(B)[n];return e?e.color:""}const R=T([]),he=T({}),He=Le([R,B],([n,e])=>{const t={};return Object.keys(e).forEach(i=>{t[i]=n.filter(l=>(l==null?void 0:l.job)===i)}),t});window.addEventListener("message",({data:n})=>{n.visible!==void 0&&ve.set(n.visible),n.CONFIG!==void 0&&K.set(n.CONFIG),n.Factions!==void 0&&B.set(n.Factions),n.players!==void 0&&R.set(n.players),n.myData!==void 0&&he.set(n.myData)});function re(n){let e,t=S(n[2])+"",i;return{c(){e=p("div"),g(e,"class",i=`badge rounded-md badge-${n[4]}`)},m(l,s){P(l,e,s),e.innerHTML=t},p(l,s){s&4&&t!==(t=S(l[2])+"")&&(e.innerHTML=t),s&16&&i!==(i=`badge rounded-md badge-${l[4]}`)&&g(e,"class",i)},d(l){l&&q(e)}}}function Ee(n){let e,t,i,l,s,o,a=(n[1]||"unknown")+"",d,r,m,c,b,j,G,C,_=n[2]&&re(n);return{c(){e=p("div"),t=p("div"),i=p("div"),l=N(n[0]),s=F(),o=p("span"),d=N(a),r=F(),_&&_.c(),m=F(),c=p("span"),b=p("i"),j=N(n[3]),G=N("ms"),g(i,"class","border border-white rounded-full text-md w-7 h-7 flex items-center justify-center pb-0.5"),g(o,"class","font-bold"),g(t,"class","flex gap-2 items-center"),g(b,"class","fa-solid fa-tower-broadcast mr-1"),g(c,"class",C=`${n[5]} text-sm text-right`),g(e,"class","flex justify-between items-center flex-wrap gap-3 bg-base-300/80 p-2 rounded-lg")},m(v,w){P(v,e,w),f(e,t),f(t,i),f(i,l),f(t,s),f(t,o),f(o,d),f(t,r),_&&_.m(t,null),f(e,m),f(e,c),f(c,b),f(c,j),f(c,G)},p(v,[w]){w&1&&E(l,v[0]),w&2&&a!==(a=(v[1]||"unknown")+"")&&E(d,a),v[2]?_?_.p(v,w):(_=re(v),_.c(),_.m(t,null)):_&&(_.d(1),_=null),w&8&&E(j,v[3]),w&32&&C!==(C=`${v[5]} text-sm text-right`)&&g(c,"class",C)},i:le,o:le,d(v){v&&q(e),_&&_.d()}}}function Me(n,e,t){let i,l,{serverId:s=0}=e,{name:o=""}=e,{job:a=""}=e,{ping:d=0}=e;return n.$$set=r=>{"serverId"in r&&t(0,s=r.serverId),"name"in r&&t(1,o=r.name),"job"in r&&t(2,a=r.job),"ping"in r&&t(3,d=r.ping)},n.$$.update=()=>{n.$$.dirty&8&&t(5,i=d<40?"text-success":d>=40&&d<=120?"text-warning":d>120?"text-error":""),n.$$.dirty&4&&t(4,l=a?Ge(a):"")},[s,o,a,d,l,i]}class we extends Q{constructor(e){super();U(this,e,Me,Ee,V,{serverId:0,name:1,job:2,ping:3})}}function ie(n,e,t){const i=n.slice();return i[6]=e[t],i}function oe(n){var m;let e,t,i=((m=n[3][n[6].name])==null?void 0:m.length)+"",l,s,o,a=S(n[6].name)+"",d,r;return{c(){e=p("div"),t=p("span"),l=N(i),s=F(),o=new Ce(!1),d=F(),g(t,"class","font-bold mr-1"),o.a=d,g(e,"class",r=`badge rounded-md badge-${n[6].color}`)},m(c,b){P(c,e,b),f(e,t),f(t,l),f(t,s),o.m(a,e),f(e,d)},p(c,b){var j;b&9&&i!==(i=((j=c[3][c[6].name])==null?void 0:j.length)+"")&&E(l,i),b&1&&a!==(a=S(c[6].name)+"")&&o.p(a),b&1&&r!==(r=`badge rounded-md badge-${c[6].color}`)&&g(e,"class",r)},d(c){c&&q(e)}}}function Pe(n){let e,t,i,l,s,o,a,d=n[1].serverName+"",r,m,c=n[2].length+"",b,j,G=n[1].slots+"",C,_,v,w,Z,H,O,A=n[0],h=[];for(let u=0;u<A.length;u+=1)h[u]=oe(ie(n,A,u));const z=[n[4]];let J={};for(let u=0;u<z.length;u+=1)J=de(J,z[u]);return H=new we({props:J}),{c(){e=p("div"),t=p("div"),i=p("img"),s=F(),o=p("div"),a=p("h4"),r=N(d),m=F(),b=N(c),j=N("/"),C=N(G),_=N(" players"),v=F(),w=p("div");for(let u=0;u<h.length;u+=1)h[u].c();Z=F(),W(H.$$.fragment),se(i.src,l=n[1].icon)||g(i,"src",l),g(i,"alt",""),g(i,"class","rounded-full w-12 h-12"),g(a,"class","text-xl font-bold"),g(o,"class","ml-2"),g(t,"class","flex items-center mx-10 lg:mx-0"),g(w,"class","my-2 lg:m-0 flex gap-2"),g(e,"class","bg-base-300/90 p-2 flex justify-center md:justify-between items-center flex-wrap rounded-t-lg")},m(u,k){P(u,e,k),f(e,t),f(t,i),f(t,s),f(t,o),f(o,a),f(a,r),f(o,m),f(o,b),f(o,j),f(o,C),f(o,_),f(e,v),f(e,w);for(let D=0;D<h.length;D+=1)h[D].m(w,null);f(e,Z),X(H,e,null),O=!0},p(u,[k]){if((!O||k&2&&!se(i.src,l=u[1].icon))&&g(i,"src",l),(!O||k&2)&&d!==(d=u[1].serverName+"")&&E(r,d),(!O||k&4)&&c!==(c=u[2].length+"")&&E(b,c),(!O||k&2)&&G!==(G=u[1].slots+"")&&E(C,G),k&9){A=u[0];let y;for(y=0;y<A.length;y+=1){const x=ie(u,A,y);h[y]?h[y].p(x,k):(h[y]=oe(x),h[y].c(),h[y].m(w,null))}for(;y<h.length;y+=1)h[y].d(1);h.length=A.length}const D=k&16?ge(z,[me(u[4])]):{};H.$set(D)},i(u){O||(L(H.$$.fragment,u),O=!0)},o(u){M(H.$$.fragment,u),O=!1},d(u){u&&q(e),pe(h,u),Y(H)}}}function qe(n,e,t){let i,l,s,o,a,d;return I(n,B,r=>t(5,l=r)),I(n,K,r=>t(1,s=r)),I(n,R,r=>t(2,o=r)),I(n,He,r=>t(3,a=r)),I(n,he,r=>t(4,d=r)),n.$$.update=()=>{n.$$.dirty&32&&t(0,i=Object.keys(l).map(r=>ne(te({},l[r]),{name:r})))},[i,s,o,a,d,l]}class Ae extends Q{constructor(e){super();U(this,e,qe,Pe,V,{})}}function ae(n,e,t){const i=n.slice();return i[3]=e[t],i}function ce(n){let e,t,i,l,s;t=new Ae({});let o=n[1],a=[];for(let r=0;r<o.length;r+=1)a[r]=fe(ae(n,o,r));const d=r=>M(a[r],1,1,()=>{a[r]=null});return{c(){e=p("div"),W(t.$$.fragment),i=F(),l=p("div");for(let r=0;r<a.length;r+=1)a[r].c();g(l,"class","bg-base-200/80 rounded-b-lg p-2 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 max-h-[83vh] gap-3 overflow-y-auto"),g(e,"class","p-10")},m(r,m){P(r,e,m),X(t,e,null),f(e,i),f(e,l);for(let c=0;c<a.length;c+=1)a[c].m(l,null);s=!0},p(r,m){if(m&2){o=r[1];let c;for(c=0;c<o.length;c+=1){const b=ae(r,o,c);a[c]?(a[c].p(b,m),L(a[c],1)):(a[c]=fe(b),a[c].c(),L(a[c],1),a[c].m(l,null))}for(be(),c=o.length;c<a.length;c+=1)d(c);_e()}},i(r){if(!s){L(t.$$.fragment,r);for(let m=0;m<o.length;m+=1)L(a[m]);s=!0}},o(r){M(t.$$.fragment,r),a=a.filter(Boolean);for(let m=0;m<a.length;m+=1)M(a[m]);s=!1},d(r){r&&q(e),Y(t),pe(a,r)}}}function fe(n){let e,t;const i=[n[3]];let l={};for(let s=0;s<i.length;s+=1)l=de(l,i[s]);return e=new we({props:l}),{c(){W(e.$$.fragment)},m(s,o){X(e,s,o),t=!0},p(s,o){const a=o&2?ge(i,[me(s[3])]):{};e.$set(a)},i(s){t||(L(e.$$.fragment,s),t=!0)},o(s){M(e.$$.fragment,s),t=!1},d(s){Y(e,s)}}}function Be(n){let e,t,i,l=n[0]&&ce(n);return{c(){l&&l.c(),e=F(),t=p("div"),t.innerHTML=`<div class="badge badge-info">a</div> 
  <div class="badge badge-success">b</div> 
  <div class="badge badge-warning">c</div> 
  <div class="badge badge-error">d</div>`,g(t,"class","absolute -top-10")},m(s,o){l&&l.m(s,o),P(s,e,o),P(s,t,o),i=!0},p(s,[o]){s[0]?l?(l.p(s,o),o&1&&L(l,1)):(l=ce(s),l.c(),L(l,1),l.m(e.parentNode,e)):l&&(be(),M(l,1,1,()=>{l=null}),_e())},i(s){i||(L(l),i=!0)},o(s){M(l),i=!1},d(s){l&&l.d(s),s&&q(e),s&&q(t)}}}function De(n,e,t){let i,l,s;return I(n,K,o=>t(2,i=o)),I(n,ve,o=>t(0,l=o)),I(n,R,o=>t(1,s=o)),Oe(async()=>{window.addEventListener("keydown",({key:r})=>{(r==="Escape"||r===((i==null?void 0:i.toggleKey)||"F10"))&&fetch(`https://${GetParentResourceName()}/close`)});const o=await fetch(`https://${GetParentResourceName()}/getConfig`),{CONFIG:a,Factions:d}=await o.json();a!==void 0&&K.set(a),d!==void 0&&B.set(d)}),[l,s]}class Te extends Q{constructor(e){super();U(this,e,De,Be,V,{})}}new Te({target:document.body});
